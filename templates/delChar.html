{% extends "base.html" %}{% block css %}
<style type="text/css">
	.btn {
		font-family: 'Montserrat', sans-serif;
		font-weight: 700;
		color: #778492;
	}
</style>
{% endblock %}{% block contentLeft %}
<div class="row ">

	<div class="col-md-6 ">
		<h4 class="form-signin-heading ">输入被替换的字符</h4>
		<input id="oldchar" type="text " name="username " class="form-control " required autofocus style="margin-top: 20px; ">
		<h3 style="margin-left: 40%;">原文字</h3>
		<textarea id="text1 " class="form-control myinput " rows="20 " name=textarea></textarea>
		<a class="btn btn-default clearBtn " href="# " role="button ">清空 </a>
		<a class="btn btn-default changeOneBtn " href="# " role="button " style="margin-left: 10px; ">替换首个 &raquo;</a>
		<a class="btn btn-default changeBtn " href="# " role="button " style="margin-left: 10px; ">完全替换 &raquo;</a>
	</div>

	<div class="col-md-6 ">
		<h4 class="form-signin-heading ">输入替换成的字符</h4>
		<input id="newchar" type="text " name="username " class="form-control " required autofocus style="margin-top: 20px; ">
		<h3 style="margin-left: 40%;">删除字符</h3>
		<textarea id="text2 " class="form-control myoutput" rows="20 " name=textarea></textarea>
		<a class="btn btn-default copyBtn " href="# " role="button ">复制内容</a>
	</div>

	<hr />

</div>
{% endblock %}{% block script %}
<script src="../static/layer/layer.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript ">
	$(".changeOneBtn").click(function() {
		var text1 = $(".myinput").val()
		var oldchar = $("#oldchar ").val()
		var newchar = $("#newchar ").val()
		text1 = text1.replace(oldchar, newchar);
		document.getElementsByClassName('myoutput')[0].value = text1
	})
	$(".changeBtn").click(function() {
		var text1 = $(".myinput").val()
		var oldchar = $("#oldchar ").val()
		var newchar = $("#newchar ").val()
		console.log(oldchar)
		var text2 = text1.replace(new RegExp(oldchar, 'g'), newchar);
		document.getElementsByClassName('myoutput')[0].value = text2

	})

	$(".clearBtn ").click(function() {
		document.getElementsByClassName('myoutput')[0].value = " "
		document.getElementsByClassName('myinput')[0].value = " "
	})

	$(".copyBtn ").click(function() {
		copyTextAreaCt()
	})

	function copyTextAreaCt() {
		var oContent = document.getElementById("text2 ");
		oContent.select(); // 选择对象
		document.execCommand("Copy"); // 执行浏览器复制命令
		layer.msg('复制成功');
	}
</script>
{% endblock %}